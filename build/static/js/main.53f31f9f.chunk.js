(this["webpackJsonppost-tracker-app"]=this["webpackJsonppost-tracker-app"]||[]).push([[0],{15:function(e,t,n){"use strict";n.r(t);var o=n(1),s=n.n(o),c=n(9),r=n.n(c),a=(n(4),n(8)),i=n(3),l=n(2),d=n(0),p=function(e){var t=e.className,n=e.text,o=e.onClick;return Object(d.jsx)("button",{onClick:o,className:t,children:n})},j=function(e){var t=e.showForm;return Object(d.jsxs)(d.Fragment,{children:[Object(d.jsxs)("header",{className:"header",children:[Object(d.jsx)("h1",{className:"app-header",children:"Maths for 'em"}),Object(d.jsx)(p,{onClick:t,className:"btn btn-dark btn--large",text:"New Post"})]}),Object(d.jsx)("style",{jsx:!0,children:"\n                .header {\n                    background-color: var(--header-color);\n                    color: var(--theme-color-white);\n                    padding: 3rem 5rem;\n                    border-radius: 2rem;\n                    position: absolute;\n                    margin-top: 1rem;\n                    width: 100%;\n                    max-width: 1000px;\n                    left: 50%;\n                    transform: translateX(-50%);\n                    display: flex;\n                    justify-content: space-between;\n                    align-items: center;\n                    margin-bottom: 20px;\n                }\n\n                .header h1 {\n                    font-size: 2.5rem;\n                }\n            "})]})},u=function(e){var t=e.posts,n=e.onDelete,o=e.onUpVote,s=e.onDownVote,c=e.onShowReplyForm;return Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)("section",{className:"posts",children:t.map((function(e){return e.postParentId!==e.id?Object(d.jsx)("div",{children:Object(d.jsx)(m,{post:e,onDelete:n,onUpVote:o,onDownVote:s,onShowReplyForm:c},e.id)}):null}))}),Object(d.jsx)("style",{jsx:!0,children:"\n                .posts {\n                    margin-top: 3rem;\n                    background-color: var(--theme-color-accent);\n                }\n            "})]})},m=function(e){var t=e.post,n=e.posts,s=e.onUpVote,c=e.onDownVote,r=e.onShowReplyForm,a=e.showPostForm,i=Object(o.useState)([]),j=Object(l.a)(i,2),m=j[0],b=j[1];return Object(o.useEffect)((function(){b(null==n?[]:n.filter((function(e){return e.postParentId===t.id})))}),[]),Object(d.jsxs)(d.Fragment,{children:[Object(d.jsxs)("article",{className:"post",children:[Object(d.jsx)("section",{className:"post__vote-counter-wrap",children:Object(d.jsxs)("div",{className:"post__vote-counter",children:[Object(d.jsx)("div",{className:"post__vote-action",onClick:function(){return s(t.id,t.voteCount)},children:Object(d.jsx)("svg",{viewBox:"0 0 448 512",children:Object(d.jsx)("path",{d:"M416 352c-8.188 0-16.38-3.125-22.62-9.375L224 173.3l-169.4 169.4c-12.5 12.5-32.75 12.5-45.25 0s-12.5-32.75 0-45.25l192-192c12.5-12.5 32.75-12.5 45.25 0l192 192c12.5 12.5 12.5 32.75 0 45.25C432.4 348.9 424.2 352 416 352z"})})}),Object(d.jsx)("span",{className:"post__vote-counter-number",children:t.voteCount}),Object(d.jsx)("div",{className:"post__vote-action",onClick:function(){return c(t.id,t.voteCount)},children:Object(d.jsx)("svg",{viewBox:"0 0 448 512",children:Object(d.jsx)("path",{d:"M224 416c-8.188 0-16.38-3.125-22.62-9.375l-192-192c-12.5-12.5-12.5-32.75 0-45.25s32.75-12.5 45.25 0L224 338.8l169.4-169.4c12.5-12.5 32.75-12.5 45.25 0s12.5 32.75 0 45.25l-192 192C240.4 412.9 232.2 416 224 416z"})})})]})}),Object(d.jsxs)("section",{className:"post__panel",children:[Object(d.jsxs)("div",{className:"post__content",children:[Object(d.jsx)("h3",{children:t.author}),Object(d.jsx)("p",{children:t.text}),Object(d.jsx)("p",{children:t.replyText})]}),Object(d.jsx)("div",{className:"post__actions",children:Object(d.jsx)(p,{text:"Reply",onClick:function(){return r(t.id)},className:"btn btn-light"})})]})]}),Object(d.jsx)("section",{className:"post__replies",children:Object(d.jsx)(u,{posts:m,onShowReplyForm:a})}),Object(d.jsx)("style",{jsx:!0,children:"\n                    .post {\n                        max-width: 1000px;\n                        width: 100%;\n                        display: flex;\n                        margin: 5px auto;\n                        cursor: pointer;\n                        display: flex;\n                        justify-content: space-between;\n                    }\n\n                    .post__vote-counter-wrap {\n                        display: flex;\n                        align-items: center;\n                        color: white;\n                        margin: 0 1rem;\n                    }\n\n                    .post__vote-counter {\n                        border: 3px solid rgba(255, 255, 255, 0.5);\n                        border-radius: 1rem;\n                        width: 45px;\n                        display: flex;\n                        flex-direction: column;\n                        align-items: center;\n                        padding: 0.5rem 0;\n                    }\n                    .post__vote-counter-number{\n                        padding: 0 0 0;\n                        font-size: 1.15rem;\n                        line-height: 100%;\n                    }\n\n                    .post__vote-counter svg {\n                       width: 1rem;\n                     \n                    }\n\n                    .post__vote-counter svg path {\n                        fill: rgba(255, 255, 255, 0.5);\n                    }\n\n                    .post__vote-action:hover svg path, .post__vote-action:active svg path {\n                        fill: rgba(255, 255, 255, 1);\n                    }\n\n                    .post__panel {\n                        background: white;\n                        padding: 3rem 3rem 3rem;\n                        flex: 1;\n                        display: flex;\n                        flex-direction: column;\n                    }\n\n                    .post__content {\n                        flex: 1;\n                    }\n                    .post__actions {\n                        display: flex;\n                        justify-content: flex-end;\n                        padding-top: 2rem;\n                    }\n\n                    .post h3 {\n                        margin-bottom: 2rem;\n                    }\n                    .post__replies {\n                        padding-left: 3rem;\n                    }\n\n                    .post__content h3 {\n                        font-size: 2rem;\n                    }\n\n                "})]})},b=function(e){var t=e.posts,n=e.onDelete,o=e.onUpVote,s=e.onDownVote,c=e.onShowReplyForm;return Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)("section",{className:"posts",children:t.map((function(e){return e.postParentId?null:Object(d.jsx)(m,{post:e,posts:t,onDelete:n,onUpVote:o,onDownVote:s,onShowReplyForm:c},e.id)}))}),Object(d.jsx)("style",{jsx:!0,children:"\n                .posts {\n\n                    background-color: var(--theme-color-accent);\n                }\n            "})]})},h=function(e){var t=e.onSave,n=e.overlayClick,s=e.postParentId,c=Object(o.useState)(""),r=Object(l.a)(c,2),a=r[0],i=r[1],p=Object(o.useState)(""),j=Object(l.a)(p,2),u=j[0],m=j[1],b=Object(o.useState)(0),h=Object(l.a)(b,2),x=h[0],O=h[1],f=Object(o.useState)(""),v=Object(l.a)(f,2),g=v[0],_=v[1];return Object(d.jsxs)("div",{className:"modal",children:[Object(d.jsx)("div",{className:"modal__overlay",onClick:n}),Object(d.jsxs)("form",{className:"modal__form",onSubmit:function(e){e.preventDefault(),t({author:a,text:u,voteCount:x,postParentId:s,replyText:g}),i(""),m(""),O(""),_("")},children:[!s&&Object(d.jsx)("div",{className:"form-control",children:Object(d.jsx)("textarea",{type:"text",rows:"4",placeholder:"Write your post...",value:u,onChange:function(e){return m(e.target.value)},required:!0})}),s&&Object(d.jsx)("div",{className:"form-control",children:Object(d.jsx)("textarea",{type:"text",rows:"4",placeholder:"Write your reply...",value:g,onChange:function(e){return _(e.target.value)},required:!0})}),Object(d.jsx)("div",{className:"form-control",children:Object(d.jsx)("input",{type:"text",placeholder:"Enter your pseudonym",value:a,onChange:function(e){return i(e.target.value)},required:!0})}),Object(d.jsx)("input",{type:"submit",className:"btn",value:"Post"})]}),Object(d.jsx)("style",{jsx:!0,children:"\n\n                    .modal {\n                        position: fixed;\n                        display: flex;\n                        justify-content: center;\n                        align-items: center;\n                        width: 100%;\n                        height: 100vh;\n                    }\n\n                    .modal__overlay {\n                        background: rgba(0,0,0,0.3);\n                        position: absolute;\n                        width: 100vw;\n                        height: 100vh;\n                        z-index:1;\n                    }\n\n                    .modal__form {\n                        width: 80%;\n                        max-width: 650px;\n                        background: white;\n                        z-index: 2;\n                        padding: 2rem;\n\n                    }\n\n                    body {\n                        overflow-Y:hidden;\n                    }\n                    .modal__form textarea {\n                    display: block;\n                    overflow: hidden;\n                    height: auto;\n                    }\n                "})]})};var x=n(17);var O=function(){var e=Object(o.useState)([]),t=Object(l.a)(e,2),n=t[0],s=t[1],c=Object(o.useState)(!1),r=Object(l.a)(c,2),p=r[0],u=r[1],m=Object(o.useState)(!1),O=Object(l.a)(m,2),f=O[0],v=O[1],g=JSON.parse(localStorage.getItem("postAdded"));return Object(o.useEffect)((function(){null==g||s(g)}),[]),Object(d.jsxs)(d.Fragment,{children:[Object(d.jsxs)("div",{className:"d-flex flex-col",children:[Object(d.jsx)(j,{className:"container-max-width",showForm:function(){return u(!p)}}),p&&Object(d.jsx)(h,{onSave:function(e){var t=Object(x.a)(),o=Object(i.a)({id:t},e);s([].concat(Object(a.a)(n),[o])),localStorage.setItem("postAdded",JSON.stringify([].concat(Object(a.a)(n),[o]))),u(!p),v(!1),window.location.reload()},postParentId:f,overlayClick:function(){u(!p)}}),n.length>0?Object(d.jsxs)("section",{className:"posts-section",children:[Object(d.jsx)(b,{posts:n,onDelete:function(e){var t=n.filter((function(t){return t.id!==e}));s(t),localStorage.setItem("postAdded",JSON.stringify(t))},onShowReplyForm:function(e){v(e),u(!p)},onUpVote:function(e,t){var n=t+1,o=JSON.parse(localStorage.getItem("postAdded")).map((function(t){return t.id===e?Object(i.a)(Object(i.a)({},t),{},{voteCount:n}):t}));localStorage.setItem("postAdded",JSON.stringify(o)),window.location.reload()},onDownVote:function(e,t){var n=t-1,o=JSON.parse(localStorage.getItem("postAdded")).map((function(t){return t.id===e?Object(i.a)(Object(i.a)({},t),{},{voteCount:n}):t}));localStorage.setItem("postAdded",JSON.stringify(o)),window.location.reload()}}),")"]}):Object(d.jsx)("div",{className:"posts-empty"})]}),Object(d.jsx)("style",{jsx:!0,children:"\n                .posts-section {\n                    margin-top: 100px;\n                    padding-top: 8rem;\n                    background-color: var(--theme-color-accent);\n                }\n            "})]})};r.a.render(Object(d.jsx)(s.a.StrictMode,{children:Object(d.jsx)(O,{})}),document.getElementById("root"))},4:function(e,t,n){}},[[15,1,2]]]);
//# sourceMappingURL=main.53f31f9f.chunk.js.map